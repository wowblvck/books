<h1 align="center">Google Books</h1>

[![Develop](https://github.com/wowblvck/books/actions/workflows/develop.yml/badge.svg)](https://github.com/wowblvck/books/actions/workflows/develop.yml)

> RU: Онлайн сервис по поиску книг с использование Google Books API.

> EN: Online book search service using Google Books API.

<details>
  <summary>Описание задания</summary>

Необходимо разработать React-приложение поиска книг с помощью Google Books API.
Документация: [Google Books](https://developers.google.com/books/docs/v1/using). Для авторизации запросов к API выбрать
способ с предоставлением [Google Books API key](https://developers.google.com/books/docs/v1/using#APIKey).

- Должны быть текстовое поле и кнопка поиска. По введенной пользователем подстроке производится поиск книг. Триггером к
  поиску является либо нажатие Enter (когда текстовое поле в фокусе), либо нажатие кнопки поиска.
- Фильтрация по категориям. Ниже текстового поля располагается селект с категориями: all, art, biography, computers,
  history, medical, poetry. Если выбрано "all" (выбрано изначально), то поиск производится по всем категориям.
- Сортировка. Рядом с селектом категорий находится селект с вариантами сортировки: relevance (выбран изначально),
  newest.
- Найденные книги отображаются карточками, каждая из которых состоит из изображения обложки книги, названия книги,
  названия категории и имен авторов. Если для книги приходит несколько категорий, то отображается только первая. Авторы
  отображаются все. Если не приходит какой-либо части данных, то вместо нее просто пустое место.
- Над блоком с карточками отображается количество найденных по запросу книг.
- Пагинация реализована по принципу 'load more'. Ниже блока с карточками находится кнопка 'Load more', по клику на нее к
  уже загруженным книгам подгружаются еще. Шаг пагинации - 30.
- При клике на карточку происходит переход на детальную страницу книги, на которой выводятся ее данные: изображение
  обложки, название, все категории, все авторы, описание.

#### Технические требования

- Обязательно использование Redux/MobX.
- Желательно Typescript.
- Во время загрузки книг необходимо показать индикатор загрузки.
- Допускается использовать UI-фреймворк для отображения данных.

#### Дополнительные требования

- Финальный билд должен запускаться из Docker-контейнера.

</details>

<details>
  <summary>Выполненные требования</summary>

#### Общие требования

- [x] Приложение разработано с использованием React [последней версии](https://github.com/facebook/react/releases).
- [x] В качестве state-менеджера используется [Redux (Toolkit)](https://redux-toolkit.js.org).
- [x] В качестве дизайн системы используется [Mantine UI](https://mantine.dev) с SCSS-модулями.
- [x] Код чистый и читабельный.
- [x] Архитектурная методология - [FSD](https://feature-sliced.design).
- [x] Отсутствует дублирование кода, приложение разбито на компоненты, отформатировано в едином стиле.
- [x] Приложение адаптировано под различные устройства.
- [x] Корректное отображение в браузерах Chrome, Firefox, Edge.

#### Дополнительные требования

- [x] Используется TypeScript.
- [x] Выполнен деплой проекта на хостинг [Netlify](https://netlify.com) с настройка CI/CD pipeline (для ветки продакшена
  и для ветки разработки).
- [x] Написана документация по сборке и настройке проекта.
- [x] Написан конфигурационный файл для создания и запуска Docker-контейнера.

#### Описание приложения

1. Главная страница
    - [x] При входе в приложение отображается шапка (header) приложения с формой поиска и список книг (по-умолчанию
      количество отображаемых книг равно 30).
    - [x] По-умолчанию поиск книг осуществляется со следующими параметрами:
        - Категория (subject): All.
        - Сортировка (orderBy): Relevance.
        - Запрос (q): everything.
    - [x] Отображается счетчик с количеством найденных книг по результатам запроса.
    - [x] В случае отсутствия книг высвечивается сообщение "Books not found" с уведомлением об ошибке.
    - [x] Присутствует кнопка загрузки большего количество книг (по-умолчанию шаг загрузки - 30 книг).
    - [x] При загрузке книг экран пользователя фокусируется на первой книге из списка загружаемых.
    - [x] При скроллинге страницы появляется кнопка, по нажатии на которую происходит возврат в верхнюю часть
      приложения.
    - [x] При нажатии на карточку книги происходит переход на страницу с описанием книги.

2. Страница с данными книги

    - [x] При загрузке книги отображается ее изображение.
    - [x] Присутствуют блок "хлебных крошек" с категориями, в которые входит загруженная книга.
    - [x] Присутствует блок с названием книги.
    - [x] Присутствует блок с авторами книги.
    - [x] Присутствует блок с детальным описанием повествования книги.
    - [x] В случае отсутствия книг в базе высвечивается сообщение "Book not found" с уведомлением об ошибке.

3. Форма поиска

    - [x] Присутствует строка ввода запроса, по которому требуется искать книги.
    - [x] Присутствует меню с выбором категории, по которой требуется искать книги.
    - [x] Присутствует меню с выбором метода сортировки, в соответствии с которым должны быть отображены книги.
    - [x] Присутствует кнопка поиска, по нажатию на которую происходит поиск книг в соответствии с указанными
      параметрами, либо по нажатию на кнопку "Enter" на клавиатуре.

</details>

---

Приложение написано с использованием следующего _JavaScipt/TypeScript_ стека:

- [React](https://react.dev)
- [Redux Toolkit with RTK Query](https://redux-toolkit.js.org)
- [React Router](https://reactrouter.com/en/main)
- [TypeScript](https://www.typescriptlang.org/)
- [ESLint](https://eslint.org/)
- [Prettier](https://prettier.io/)

Дизайн система (UI Kit):

- [Mantine UI (v7)](https://mantine.dev)

Архитектурная методология:

- [Feature Sliced Design (FSD)](https://feature-sliced.design)

---

## Настройка приложения

1. Для корректной работы приложения необходимо указать переменные среды. Название переменных указаны в
   файле [.env.example](./.env.example).
2. Файл `.env` располагается в корневом разделе приложения.
3. Для работы приложения необходимо получить ключ на [Google API](https://console.cloud.google.com/apis/credentials).
4. Описание файла `.env`

```
VITE_API_ENDPOINT="PUT GOOGLE BOOKS API ENDOINT HERE"
VITE_API_KEY="PUT API KEY HERE"
```

## Конфигурационый файл приложения

> Конфигурационный файл приложения располагается по пути [src/shared/config/index.ts](src/shared/config/index.ts)

```typescript
export const config = {
  // Импортированный URL сервера Google Books
  API_ENDPOINT: import.meta.env.VITE_API_ENDPOINT,
  // Импортированный ключ
  API_KEY: import.meta.env.VITE_API_KEY,
  // Количество отображаемых на странице книг
  MAX_RESULTS: 30,
} as const;
```

## Запуск приложения

> ВАЖНО: В качестве пакетного менеджера используется [Yarn](https://yarnpkg.com)

1. Для работы приложения требуется NodeJS версии `>= 18.17`
2. Для запуска приложения в режиме разработчика использовать `yarn dev`
3. Для сборки использовать `yarn build`

## Запуск Docker

> ВАЖНО: перед запуском убедитесь, что у Вас установлен [Docker](https://docs.docker.com/engine/install/), а
> также [Docker Compose](https://docs.docker.com/compose/gettingstarted/)

1. Для запуска Docker-контейнера, необходимо в корневом разделе создать файл `.env.production` с ключами, указанными в
   разделе `Настройка приложения`.
2. Для запуска сборки Docker-контейнера выполните следующую команду:

```
docker-compose up -d
```

3. Docker-контейнер запустится в фоновом режиме.
4. Приложение будет доступно по адресу http://localhost:80.

---

## ✨ [Превью](https://books-2023.netlify.app)

## Автор

👤 Разработчик **Indar Basto** ([@wowblvck](https://github.com/wowblvck))
